<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>æ¥µé™ãƒ»æ‚©ã¿ã‚µãƒ³ãƒä¼šå ´</title>
    <style>
        body {
            background-color: #000;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            font-family: 'Arial', sans-serif;
            transition: background-color 0.05s;
        }

        .flash-bg {
            animation: flashing 0.1s infinite;
        }

        @keyframes flashing {
            0% { background-color: #ff0000; }
            25% { background-color: #00ff00; }
            50% { background-color: #0000ff; }
            75% { background-color: #ffff00; }
            100% { background-color: #ff00ff; }
        }

        h1 { z-index: 10; color: #fff; text-shadow: 2px 2px #000; }
        .controls { z-index: 10; text-align: center; }

        input { padding: 10px; font-size: 18px; border-radius: 5px; width: 300px; }
        button {
            margin-top: 20px; padding: 15px 30px; font-size: 20px; font-weight: bold;
            background: linear-gradient(45deg, #ff0000, #ffff00, #00ff00);
            border: none; border-radius: 50px; cursor: pointer;
        }

        .samba-mode {
            display: inline-block;
            margin-top: 50px;
            font-size: 120px;
            font-weight: bold;
            background: linear-gradient(to right, red, orange, yellow, green, aqua, blue, purple);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: rotate-samba 0.04s linear infinite, rainbow-flow 0.5s linear infinite;
        }


        <link href="https://fonts.googleapis.com/css2?family=Potta+One&display=swap" rel="stylesheet">
<style>
    /* ãƒ•ã‚©ãƒ³ãƒˆã‚’é©ç”¨ */
    .samba-mode {
        font-family: 'Potta One', system-ui; 
        animation: 
            rotate-samba 0.04s linear infinite, 
            rainbow-flow 0.5s linear infinite,
            beat-samba 0.5s ease-in-out infinite alternate; /* æ‹¡å¤§ç¸®å° */
        }

        @keyframes rotate-samba {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* ã‚µãƒ³ãƒã®ãƒªã‚ºãƒ ã§æ‹¡å¤§ãƒ»ç¸®å°ï¼ˆé¼“å‹•ï¼‰ */
        @keyframes beat-samba {
            from { transform: rotate(0deg) scale(0.5); }
            to { transform: rotate(0deg) scale(1.5); }
        }

        /* æ‹¡å¤§ç¸®å°ç”¨ã®ã‚¯ãƒ©ã‚¹ã‚’åˆ¥ã§ä½œã£ã¦é‡ã­ã‚‹ */
        .beat-layer {
            display: inline-block;
            animation: beat-samba 0.4s ease-in-out infinite alternate;
        }
        @keyframes rainbow-flow { to { background-position: 200% center; } }

        /* å¹³ç©ãƒ¢ãƒ¼ãƒ‰ã®èƒŒæ™¯ã¨ãƒ•ã‚©ãƒ³ãƒˆ */
        .peace-bg {
                background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=1920&q=80'); /* ç¶ºéº—ãªæ¹–ã®ã‚µãƒ³ãƒ—ãƒ«ç”»åƒ */
                background-size: cover;
                background-position: center;
                transition: background-image 2s ease-in-out;
            }

            .peace-text {
                font-family: 'Shippori Mincho', serif; /* ä¸Šå“ã§ã‚ªã‚·ãƒ£ãƒ¬ãªæ˜æœä½“ */
                font-size: 40px;
                color: #fff;
                text-shadow: 0 0 10px rgba(0,0,0,0.5);
                animation: fadeIn 3s forwards;
            }

            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
    </style>
</head>
<body>

    <h1>æ¥µé™ãƒ»æ‚©ã¿ã‚µãƒ³ãƒä¼šå ´ ğŸ’ƒğŸ•º</h1>
    
    <div class="controls">
        <input type="text" id="nayamiInput" placeholder="ä»Šã€è…¹ç«‹ã¤ã“ã¨ã¯ï¼Ÿ">
        <br>
        <button onclick="startHyperSamba()">ã‚µãƒ³ãƒã§å®‡å®™ã¸é£›ã°ã™ï¼</button>
    </div>

    <div id="displayArea"></div>

    <audio id="sambaAudio" src="sambasamba.mp3" loop></audio>
    <audio id="bombAudio" src="bomb.mp3"></audio>

    <script>
        function startHyperSamba() {
            const input = document.getElementById('nayamiInput');
            const display = document.getElementById('displayArea');
            const audio = document.getElementById('sambaAudio');
            const bombAudio = document.getElementById('bombAudio');
            const body = document.body;
            const controls = document.querySelector('.controls');
            
            if (input.value.trim() === "") {
                alert("æ‚©ã¿ã‚’å…¥ã‚Œãªã„ã¨è¸Šã‚Œãªã„ãƒ¯ãƒ³ï¼");
                return;
            }
    
            // --- ã‚µãƒ³ãƒé–‹å§‹ï¼ ---
            display.innerHTML = `
                <div class="beat-layer">
                    <div class="samba-mode">${input.value}</div>
                </div>
            `;
            body.classList.add('flash-bg');
            audio.play().catch(e => console.log("å†ç”Ÿã«ã¯ã‚¯ãƒªãƒƒã‚¯ãŒå¿…è¦ã ã«ã‚ƒ"));
            controls.style.opacity = "0.1";
    
            setTimeout(() => {
                audio.pause();
                
                // 1. çˆ†ç™ºéŸ³ã‚’é³´ã‚‰ã—ã¦ç”»é¢ã‚’çœŸã£ç™½ã«ï¼
                bombAudio.currentTime = 0;
                bombAudio.play(); 
                body.classList.remove('flash-bg');
                body.style.backgroundColor = "white";
    
                display.innerHTML = "<h1 id='explosion'>ğŸ’¥ å®Œ å…¨ æ¶ˆ æ»… ğŸ’¥</h1>";
                const expo = document.getElementById('explosion');
                expo.style.fontSize = "150px";
                expo.style.transition = "transform 0.5s";
                setTimeout(() => { expo.style.transform = "scale(3)"; }, 10);
    
                // 2. ã€Œã‚ªï½ãƒ¬ï¼ã€ã®é›¨ï¼ˆãƒ«ãƒ¼ãƒ—å‡¦ç†ï¼‰
                for (let i = 0; i < 100; i++) {
                    const ole = document.createElement('div');
                    ole.innerText = "ã‚ªï½ãƒ¬ï¼ğŸ’ƒ";
                    ole.style.position = "absolute";
                    ole.style.left = Math.random() * 100 + "vw";
                    ole.style.top = "-50px";
                    ole.style.fontSize = (Math.random() * 30 + 20) + "px";
                    ole.style.color = ["#ff0000", "#ffea00", "#00ff00"][Math.floor(Math.random() * 3)];
                    ole.style.zIndex = "100";
                    
                    ole.animate([
                        { transform: 'translateY(0) rotate(0deg)' },
                        { transform: `translateY(110vh) rotate(${Math.random() * 360}deg)` }
                    ], {
                        duration: Math.random() * 2000 + 1000,
                        easing: 'ease-in'
                    });
    
                    document.body.appendChild(ole);
                    setTimeout(() => ole.remove(), 3000);
                } 
    
                setTimeout(() => {
                    const peaceAudio = new Audio('peace.mp3');
                    peaceAudio.volume = 0.9; 
                    peaceAudio.play();

                    document.querySelector('h1').style.display = 'none';
    
                    // æ¹–ã®èƒŒæ™¯ã¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¸ç§»è¡Œ
                    body.classList.add('peace-bg'); 
                    display.innerHTML = `
                    <div class="peace-text" style="text-align: center;"> æ‚©ã¿ã¯å…‰ã«åŒ…ã¾ã‚Œã€é™ã‹ãªæ¹–ã¸ã¨é‚„ã‚Šã¾ã—ãŸã€‚
                    </div>
                    <button onclick="location.reload()" style="
                        display: block; 
                        margin: 40px auto; 
                        padding: 10px 20px; 
                        font-family: 'Shippori Mincho', serif; 
                        cursor: pointer;
                        opacity: 0.8;
                    ">
                        ã‚‚ã†ä¸€åº¦ã€è¸Šã‚‹
                    </button>
                `;
                controls.style.display = "none";
                }, 3000); // çˆ†ç™ºã‹ã‚‰3ç§’å¾…æ©Ÿ
    
            }, 3000); // 3ç§’å¾Œã«ç™ºå‹•ï¼
        }
    </script>
</body>
</html>